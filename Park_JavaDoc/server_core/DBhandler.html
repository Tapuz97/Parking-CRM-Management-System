<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (24) on Thu Jul 03 04:56:10 IDT 2025 -->
<title>DBhandler</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-03">
<meta name="description" content="declaration: package: server_core, class: DBhandler">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../script-files/script.js"></script>
<script type="text/javascript" src="../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DBhandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../search.html">Search</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">server_core</a></li>
<li><a href="DBhandler.html" class="current-selection">DBhandler</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(java.sql.Connection)" tabindex="0">DBhandler(Connection)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#setAPIkeys(java.lang.String,java.lang.String)" tabindex="0">setAPIkeys(String, String)</a></li>
<li><a href="#createSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)" tabindex="0">createSubscriber(String, String, String, String)</a></li>
<li><a href="#getParkingTable()" tabindex="0">getParkingTable()</a></li>
<li><a href="#getParkingUsagePercent()" tabindex="0">getParkingUsagePercent()</a></li>
<li><a href="#depositVehicle(java.lang.String,java.lang.String)" tabindex="0">depositVehicle(String, String)</a></li>
<li><a href="#userHasUpcomingReservation(java.lang.String)" tabindex="0">userHasUpcomingReservation(String)</a></li>
<li><a href="#userHasReservationToday(java.lang.String)" tabindex="0">userHasReservationToday(String)</a></li>
<li><a href="#userHasActiveDeposit(java.lang.String)" tabindex="0">userHasActiveDeposit(String)</a></li>
<li><a href="#insertNewOrder(java.lang.String,int,int)" tabindex="0">insertNewOrder(String, int, int)</a></li>
<li><a href="#pickupVehicle(java.lang.String,java.lang.String)" tabindex="0">pickupVehicle(String, String)</a></li>
<li><a href="#extendParking(java.lang.String,java.lang.String)" tabindex="0">extendParking(String, String)</a></li>
<li><a href="#reserveParking(java.lang.String,java.time.LocalDate,java.time.LocalTime)" tabindex="0">reserveParking(String, LocalDate, LocalTime)</a></li>
<li><a href="#userHasReservationForTheDay(java.lang.String,java.lang.String)" tabindex="0">userHasReservationForTheDay(String, String)</a></li>
<li><a href="#editSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)" tabindex="0">editSubscriber(String, String, String, String)</a></li>
<li><a href="#getUserHistory(java.lang.String)" tabindex="0">getUserHistory(String)</a></li>
<li><a href="#recoverUser(java.lang.String)" tabindex="0">recoverUser(String)</a></li>
<li><a href="#getLateActiveOrders()" tabindex="0">getLateActiveOrders()</a></li>
<li><a href="#handleLateActiveOrders(java.util.List)" tabindex="0">handleLateActiveOrders(List)</a></li>
<li><a href="#getLatePendingOrders()" tabindex="0">getLatePendingOrders()</a></li>
<li><a href="#handleLatePendingOrders(java.util.List)" tabindex="0">handleLatePendingOrders(List)</a></li>
<li><a href="#getMonthlyUsersReport(java.lang.String,java.lang.String)" tabindex="0">getMonthlyUsersReport(String, String)</a></li>
<li><a href="#getMonthlyParkingReport(java.lang.String,java.lang.String)" tabindex="0">getMonthlyParkingReport(String, String)</a></li>
<li><a href="#getSubscriber(java.lang.String,java.lang.String)" tabindex="0">getSubscriber(String, String)</a></li>
<li><a href="#getTable(java.lang.String)" tabindex="0">getTable(String)</a></li>
<li><a href="#formatResultSet(java.sql.ResultSet)" tabindex="0">formatResultSet(ResultSet)</a></li>
<li><a href="#updateParkingHistory(java.lang.String,int,java.lang.String)" tabindex="0">updateParkingHistory(String, int, String)</a></li>
<li><a href="#updateParkingLot(int,java.lang.Integer)" tabindex="0">updateParkingLot(int, Integer)</a></li>
<li><a href="#getOrderStatus(int)" tabindex="0">getOrderStatus(int)</a></li>
<li><a href="#getTotalUsers()" tabindex="0">getTotalUsers()</a></li>
<li><a href="#getSubscriberByOrderNumber(int)" tabindex="0">getSubscriberByOrderNumber(int)</a></li>
<li><a href="#updateOrder(int,java.time.LocalDate,int)" tabindex="0">updateOrder(int, LocalDate, int)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class DBhandler" class="title">Class DBhandler</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">server_core.DBhandler</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">DBhandler</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Handles all database-related operations and message dispatching for the Bpark server.
 Encapsulates SQL execution and optional Discord notifications.</div>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.sql.Connection)" class="member-name-link">DBhandler</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;con)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a DBhandler with an existing SQL connection.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">createSubscriber</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;phone)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to create a new subscriber in the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#depositVehicle(java.lang.String,java.lang.String)" class="member-name-link">depositVehicle</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;orderNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles the deposit of a vehicle by a subscriber.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#editSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)" class="member-name-link">editSubscriber</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;phone)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the subscriber's email, password, and phone number in the database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#extendParking(java.lang.String,java.lang.String)" class="member-name-link">extendParking</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;confirmationCode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to extend a parking session (once per order).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#formatResultSet(java.sql.ResultSet)" class="member-name-link">formatResultSet</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;rs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> to a <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link"><code>List</code></a> of maps, where each map is a row of column-value pairs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLateActiveOrders()" class="member-name-link">getLateActiveOrders</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of overdue active orders where the parking duration has exceeded the allowed time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLatePendingOrders()" class="member-name-link">getLatePendingOrders</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a list of order numbers for all 'pending' orders
 that were scheduled for earlier than 15 minutes ago today.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMonthlyParkingReport(java.lang.String,java.lang.String)" class="member-name-link">getMonthlyParkingReport</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;month,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;year)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates a monthly parking report summarizing the number of vehicles deposited each day.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMonthlyUsersReport(java.lang.String,java.lang.String)" class="member-name-link">getMonthlyUsersReport</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;month,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;year)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Generates a monthly report of user activity, summarizing parking events for each subscriber.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOrderStatus(int)" class="member-name-link">getOrderStatus</a><wbr>(int&nbsp;orderNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the status string of a given order.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParkingTable()" class="member-name-link">getParkingTable</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the current state of all parking spaces.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParkingUsagePercent()" class="member-name-link">getParkingUsagePercent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Calculates the percentage of parking spaces currently in use (non-available).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSubscriber(java.lang.String,java.lang.String)" class="member-name-link">getSubscriber</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pass)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Verifies subscriber login credentials.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSubscriberByOrderNumber(int)" class="member-name-link">getSubscriberByOrderNumber</a><wbr>(int&nbsp;orderNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves subscriber information associated with a specific order number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTable(java.lang.String)" class="member-name-link">getTable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tb)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves all rows from a given database table.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalUsers()" class="member-name-link">getTotalUsers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the total number of subscribers in the system.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUserHistory(java.lang.String)" class="member-name-link">getUserHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the parking history for a given subscriber.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleLateActiveOrders(java.util.List)" class="member-name-link">handleLateActiveOrders</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;overdueOrderNumbers)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Handles overdue active orders by marking them as "late", logging the event in the parking history,
 and sending notifications to the subscribers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#handleLatePendingOrders(java.util.List)" class="member-name-link">handleLatePendingOrders</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;lateOrderNumbers)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes all late 'pending' orders by:
 
   Fetching subscriber info per order
   Updating the notification status
   Sending a Discord cancellation message
   Marking the order as 'cancelled'
   Logging the cancellation in parking history
 </div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#insertNewOrder(java.lang.String,int,int)" class="member-name-link">insertNewOrder</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 int&nbsp;parkingSpace,
 int&nbsp;confirmationCode)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Inserts a new order into the database with the provided details.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pickupVehicle(java.lang.String,java.lang.String)" class="member-name-link">pickupVehicle</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;confirmationCode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Completes a vehicle pickup operation using a subscriber ID and confirmation code.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recoverUser(java.lang.String)" class="member-name-link">recoverUser</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to recover user information and current active parking session (if any).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reserveParking(java.lang.String,java.time.LocalDate,java.time.LocalTime)" class="member-name-link">reserveParking</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;date,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalTime.html" title="class or interface in java.time" class="external-link">LocalTime</a>&nbsp;time)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Attempts to reserve a parking space for a subscriber on a specific date and time.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAPIkeys(java.lang.String,java.lang.String)" class="member-name-link">setAPIkeys</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;recoveryAPI,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ordersMonitorAPI)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Initializes DiscordNotifier with API keys for recovery and order-monitoring alerts.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateOrder(int,java.time.LocalDate,int)" class="member-name-link">updateOrder</a><wbr>(int&nbsp;orderNumber,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;newDate,
 int&nbsp;newParkingSpace)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the order date and parking space if the provided values are valid.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateParkingHistory(java.lang.String,int,java.lang.String)" class="member-name-link">updateParkingHistory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 int&nbsp;orderNumber,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eventType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Logs a parking-related event to the <code>parking_history</code> table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateParkingLot(int,java.lang.Integer)" class="member-name-link">updateParkingLot</a><wbr>(int&nbsp;space,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;confirmationCode)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates the parking lot entry by either marking a space as 'occupied' (with a confirmation code)
 or 'available' (clearing its confirmation code).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#userHasActiveDeposit(java.lang.String)" class="member-name-link">userHasActiveDeposit</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if a user has an active deposit in the parking system.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#userHasReservationForTheDay(java.lang.String,java.lang.String)" class="member-name-link">userHasReservationForTheDay</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;orderDate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks whether a subscriber already has a pending reservation for the given day.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#userHasReservationToday(java.lang.String)" class="member-name-link">userHasReservationToday</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks whether the user has a reservation for today with status 'pending'.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#userHasUpcomingReservation(java.lang.String)" class="member-name-link">userHasUpcomingReservation</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if the user has a reservation later today (after current time).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.sql.Connection)">
<h3>DBhandler</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">DBhandler</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;con)</span></div>
<div class="block">Constructs a DBhandler with an existing SQL connection.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>con</code> - An active JDBC connection.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setAPIkeys(java.lang.String,java.lang.String)">
<h3>setAPIkeys</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAPIkeys</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;recoveryAPI,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ordersMonitorAPI)</span></div>
<div class="block">Initializes DiscordNotifier with API keys for recovery and order-monitoring alerts.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>recoveryAPI</code> - Webhook URL for recovery-related messages.</dd>
<dd><code>ordersMonitorAPI</code> - Webhook URL for order-related monitoring messages.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="createSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
<h3>createSubscriber</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">createSubscriber</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;phone)</span></div>
<div class="block">Attempts to create a new subscriber in the database.
 Performs uniqueness checks on email and phone before inserting.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - Subscriber full name.</dd>
<dd><code>email</code> - Subscriber email (must be unique).</dd>
<dd><code>password</code> - Subscriber password (plaintext or hashed depending on usage).</dd>
<dd><code>phone</code> - Subscriber phone number (must be unique).</dd>
<dt>Returns:</dt>
<dd>1  if insertion succeeded,  
         -2 if email already exists,  
         -3 if phone already exists,  
          0 if any other error occurred.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getParkingTable()">
<h3>getParkingTable</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">getParkingTable</span>()</div>
<div class="block">Retrieves the current state of all parking spaces.
 Includes parking space number, status, confirmation code,
 and the subscriber ID for active orders (if any).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A list of maps representing rows of parking data, or null on error.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getParkingUsagePercent()">
<h3>getParkingUsagePercent</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getParkingUsagePercent</span>()</div>
<div class="block">Calculates the percentage of parking spaces currently in use (non-available).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A string representing the usage percentage (rounded up), or "0" on error.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="depositVehicle(java.lang.String,java.lang.String)">
<h3>depositVehicle</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">depositVehicle</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;orderNumber)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Handles the deposit of a vehicle by a subscriber.
 If an order number is provided, verifies the order is for today and within the 15-minute window.
 Otherwise, finds the next available parking spot and inserts a new order.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dd><code>orderNumber</code> - Optional reservation order number; can be null for walk-ins.</dd>
<dt>Returns:</dt>
<dd>A confirmation code if deposit is successful, or null if validation fails or no space is available.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If a database error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="userHasUpcomingReservation(java.lang.String)">
<h3>userHasUpcomingReservation</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">userHasUpcomingReservation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</span>
                                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Checks if the user has a reservation later today (after current time).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dt>Returns:</dt>
<dd>true if an upcoming reservation exists today; false otherwise.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If a database access error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="userHasReservationToday(java.lang.String)">
<h3>userHasReservationToday</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">userHasReservationToday</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</span></div>
<div class="block">Checks whether the user has a reservation for today with status 'pending'.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dt>Returns:</dt>
<dd>true if such a reservation exists; false if none or on error.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="userHasActiveDeposit(java.lang.String)">
<h3>userHasActiveDeposit</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">userHasActiveDeposit</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId)</span></div>
<div class="block">Checks if a user has an active deposit in the parking system.
 An active deposit means the user has parked a vehicle that has not yet been picked up.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The ID of the subscriber to check.</dd>
<dt>Returns:</dt>
<dd>true if the user has an active deposit, false otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="insertNewOrder(java.lang.String,int,int)">
<h3>insertNewOrder</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">insertNewOrder</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 int&nbsp;parkingSpace,
 int&nbsp;confirmationCode)</span></div>
<div class="block">Inserts a new order into the database with the provided details.
 The order is marked as 'active' and the current date and time are used.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The ID of the subscriber placing the order.</dd>
<dd><code>parkingSpace</code> - The parking space assigned to the order.</dd>
<dd><code>confirmationCode</code> - The unique confirmation code for the order.</dd>
<dt>Returns:</dt>
<dd>The generated order number if the insertion is successful,
         -1 if the insertion fails or no ID is returned.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="pickupVehicle(java.lang.String,java.lang.String)">
<h3>pickupVehicle</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">pickupVehicle</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;confirmationCode)</span>
                  throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Completes a vehicle pickup operation using a subscriber ID and confirmation code.
 Checks the order status before proceeding. If valid, marks the order as "complete",
 frees the parking space, and logs the pickup in history.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dd><code>confirmationCode</code> - The confirmation code used to identify the order.</dd>
<dt>Returns:</dt>
<dd>A status code:
         <ul>
           <li>200 - Success</li>
           <li>402 - Order was cancelled</li>
           <li>403 - Order already completed</li>
           <li>404 - Order not found</li>
         </ul></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If a database error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="extendParking(java.lang.String,java.lang.String)">
<h3>extendParking</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">extendParking</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;confirmationCode)</span></div>
<div class="block">Attempts to extend a parking session (once per order).
 Fails if already extended, if order is "late", or if order does not exist.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dd><code>confirmationCode</code> - The confirmation code of the parking session.</dd>
<dt>Returns:</dt>
<dd>A status code:
         <ul>
           <li>200 - Extension successful</li>
           <li>403 - Cannot extend a late order</li>
           <li>404 - Order not found</li>
           <li>409 - Already extended</li>
           <li>500 - Server/database error</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="reserveParking(java.lang.String,java.time.LocalDate,java.time.LocalTime)">
<h3>reserveParking</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">reserveParking</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;date,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalTime.html" title="class or interface in java.time" class="external-link">LocalTime</a>&nbsp;time)</span></div>
<div class="block">Attempts to reserve a parking space for a subscriber on a specific date and time.
 The reservation is accepted only if:
 - Less than 40% of total parking spots are already reserved that day
 - At least one spot is available at the requested time</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dd><code>date</code> - The requested reservation date.</dd>
<dd><code>time</code> - The requested reservation time (HH:mm).</dd>
<dt>Returns:</dt>
<dd>A confirmation code if the reservation is successful,
         or error codes:
         <ul>
           <li>403 - Capacity exceeded (more than 40% booked)</li>
           <li>404 - No parking space available at that time</li>
           <li>500 - Database/server error</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="userHasReservationForTheDay(java.lang.String,java.lang.String)">
<h3>userHasReservationForTheDay</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">userHasReservationForTheDay</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;orderDate)</span></div>
<div class="block">Checks whether a subscriber already has a pending reservation for the given day.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - The subscriber's ID.</dd>
<dd><code>orderDate</code> - The date string in format YYYY-MM-DD.</dd>
<dt>Returns:</dt>
<dd>true if a pending reservation exists for that day, false otherwise.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="editSubscriber(java.lang.String,java.lang.String,java.lang.String,java.lang.String)">
<h3>editSubscriber</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">editSubscriber</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;password,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;phone)</span></div>
<div class="block">Updates the subscriber's email, password, and phone number in the database.
 Ensures that the email and phone number are unique and do not belong to another subscriber.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - The ID of the subscriber to update.</dd>
<dd><code>email</code> - The new email address for the subscriber.</dd>
<dd><code>password</code> - The new password for the subscriber.</dd>
<dd><code>phone</code> - The new phone number for the subscriber.</dd>
<dt>Returns:</dt>
<dd>A status code:
         <ul>
           <li>200 - Update successful</li>
           <li>-2  - Email already exists for another subscriber</li>
           <li>-3  - Phone number already exists for another subscriber</li>
           <li>500 - Update failed due to a database error</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getUserHistory(java.lang.String)">
<h3>getUserHistory</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">getUserHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId)</span></div>
<div class="block">Retrieves the parking history for a given subscriber.
 The result is ordered with the most recent entries first (by date and time).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userId</code> - The subscriber ID.</dd>
<dt>Returns:</dt>
<dd>A list of maps representing the user's parking events,
         each row includes: parking number, date, time, and event type;
         or null if an error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="recoverUser(java.lang.String)">
<h3>recoverUser</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">recoverUser</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;userId)</span></div>
<div class="block">Attempts to recover user information and current active parking session (if any).
 Pulls subscriber name, email, phone number, and active confirmation code (if parking is occupied).
 Sends a Discord notification through the configured notifier.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userId</code> - The subscriber ID.</dd>
<dt>Returns:</dt>
<dd>A map containing:
         <ul>
           <li>"subscriber_name"</li>
           <li>"subscriber_email"</li>
           <li>"subscriber_phone"</li>
           <li>"parking_confirmation_code"</li>
         </ul>
         Or null if user does not exist or an error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLateActiveOrders()">
<h3>getLateActiveOrders</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name">getLateActiveOrders</span>()</div>
<div class="block">Retrieves a list of overdue active orders where the parking duration has exceeded the allowed time.
 The allowed time is 4 hours for regular orders and 8 hours for extended orders.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A list of overdue order numbers.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleLateActiveOrders(java.util.List)">
<h3>handleLateActiveOrders</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleLateActiveOrders</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;overdueOrderNumbers)</span></div>
<div class="block">Handles overdue active orders by marking them as "late", logging the event in the parking history,
 and sending notifications to the subscribers.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>overdueOrderNumbers</code> - A list of overdue order numbers to process.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLatePendingOrders()">
<h3>getLatePendingOrders</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;</span>&nbsp;<span class="element-name">getLatePendingOrders</span>()</div>
<div class="block">Retrieves a list of order numbers for all 'pending' orders
 that were scheduled for earlier than 15 minutes ago today.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A list of order numbers that are considered late.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="handleLatePendingOrders(java.util.List)">
<h3>handleLatePendingOrders</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">handleLatePendingOrders</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&nbsp;lateOrderNumbers)</span></div>
<div class="block">Processes all late 'pending' orders by:
 <ol>
   <li>Fetching subscriber info per order</li>
   <li>Updating the notification status</li>
   <li>Sending a Discord cancellation message</li>
   <li>Marking the order as 'cancelled'</li>
   <li>Logging the cancellation in parking history</li>
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lateOrderNumbers</code> - A list of late 'pending' order numbers to cancel and notify.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getMonthlyUsersReport(java.lang.String,java.lang.String)">
<h3>getMonthlyUsersReport</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">getMonthlyUsersReport</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;month,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;year)</span></div>
<div class="block">Generates a monthly report of user activity, summarizing parking events for each subscriber.
 The report includes counts of various event types (e.g., deposited, picked_up, reserved, etc.)
 for all users with a subscription status of "user".</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>month</code> - The month for the report (e.g., "01" for January).</dd>
<dd><code>year</code> - The year for the report (e.g., "2023").</dd>
<dt>Returns:</dt>
<dd>A list of maps, where each map represents a subscriber and their event counts.
         Each map contains:
         <ul>
           <li>"user" - The subscriber ID</li>
           <li>"deposited" - Count of "deposited" events</li>
           <li>"picked_up" - Count of "picked_up" events</li>
           <li>"reserved" - Count of "reserved" events</li>
           <li>"late" - Count of "late" events</li>
           <li>"cancelled" - Count of "cancelled" events</li>
           <li>"extended" - Count of "extended" events</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getMonthlyParkingReport(java.lang.String,java.lang.String)">
<h3>getMonthlyParkingReport</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">getMonthlyParkingReport</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;month,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;year)</span></div>
<div class="block">Generates a monthly parking report summarizing the number of vehicles deposited each day.
 The report includes the date and the count of deposited vehicles for that day.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>month</code> - The month for the report (e.g., "01" for January).</dd>
<dd><code>year</code> - The year for the report (e.g., "2023").</dd>
<dt>Returns:</dt>
<dd>A list of maps, where each map represents a day and its parking capacity:
         <ul>
           <li>"day" - The date of the parking event</li>
           <li>"capacity" - The number of vehicles deposited on that day</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getSubscriber(java.lang.String,java.lang.String)">
<h3>getSubscriber</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getSubscriber</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;email,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;pass)</span></div>
<div class="block">Verifies subscriber login credentials.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>email</code> - Subscriber's email.</dd>
<dd><code>pass</code> - Subscriber's password.</dd>
<dt>Returns:</dt>
<dd>A map containing subscriber fields (name, id, email, phone, etc.), or null if no match.
         If a DB error occurs, returns a map with key "error" and value "db".</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTable(java.lang.String)">
<h3>getTable</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a></span>&nbsp;<span class="element-name">getTable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;tb)</span></div>
<div class="block">Retrieves all rows from a given database table.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tb</code> - The table name.</dd>
<dt>Returns:</dt>
<dd>A <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> containing the table's data, or null if table does not exist or error occurs.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="formatResultSet(java.sql.ResultSet)">
<h3>formatResultSet</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">formatResultSet</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;rs)</span>
                                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Converts a <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> to a <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link"><code>List</code></a> of maps, where each map is a row of column-value pairs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rs</code> - The ResultSet to format.</dd>
<dt>Returns:</dt>
<dd>A list of maps, one for each row.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If ResultSet processing fails.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updateParkingHistory(java.lang.String,int,java.lang.String)">
<h3>updateParkingHistory</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateParkingHistory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;subscriberId,
 int&nbsp;orderNumber,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;eventType)</span></div>
<div class="block">Logs a parking-related event to the <code>parking_history</code> table.
 Supports different event types (deposited, picked_up, reserved, extended, cancelled, late).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>subscriberId</code> - Subscriber's ID.</dd>
<dd><code>orderNumber</code> - Related order number.</dd>
<dd><code>eventType</code> - Type of the event (e.g., "deposited", "cancelled", etc.).</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updateParkingLot(int,java.lang.Integer)">
<h3>updateParkingLot</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateParkingLot</span><wbr><span class="parameters">(int&nbsp;space,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&nbsp;confirmationCode)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Updates the parking lot entry by either marking a space as 'occupied' (with a confirmation code)
 or 'available' (clearing its confirmation code).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>space</code> - The parking space number.</dd>
<dd><code>confirmationCode</code> - The confirmation code, or null to mark the space as available.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If the update query fails.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getOrderStatus(int)">
<h3>getOrderStatus</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getOrderStatus</span><wbr><span class="parameters">(int&nbsp;orderNumber)</span></div>
<div class="block">Returns the status string of a given order.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>orderNumber</code> - The order number.</dd>
<dt>Returns:</dt>
<dd>The status string (e.g., "active", "late"), or null if not found or on error.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTotalUsers()">
<h3>getTotalUsers</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getTotalUsers</span>()</div>
<div class="block">Returns the total number of subscribers in the system.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The total as a string. Returns "0" if query fails.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getSubscriberByOrderNumber(int)">
<h3>getSubscriberByOrderNumber</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">getSubscriberByOrderNumber</span><wbr><span class="parameters">(int&nbsp;orderNumber)</span></div>
<div class="block">Retrieves subscriber information associated with a specific order number.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>orderNumber</code> - The order number.</dd>
<dt>Returns:</dt>
<dd>A map with subscriber details (id, name, email, phone, order number), or null on error.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updateOrder(int,java.time.LocalDate,int)">
<h3>updateOrder</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">updateOrder</span><wbr><span class="parameters">(int&nbsp;orderNumber,
 <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/time/LocalDate.html" title="class or interface in java.time" class="external-link">LocalDate</a>&nbsp;newDate,
 int&nbsp;newParkingSpace)</span></div>
<div class="block">Updates the order date and parking space if the provided values are valid.
 Validations include:
 - The new date must not be in the past.
 - The order must exist.
 - The parking space must exist.
 - The parking space must be available on the new date.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>orderNumber</code> - The order number to update.</dd>
<dd><code>newDate</code> - The new date for the order.</dd>
<dd><code>newParkingSpace</code> - The new parking space for the order.</dd>
<dt>Returns:</dt>
<dd>A status code:
         <ul>
           <li>200 - Update successful</li>
           <li>400 - New date is in the past</li>
           <li>404 - Order or parking space does not exist</li>
           <li>409 - Parking space is not available on the new date</li>
           <li>503 - Database error</li>
         </ul></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
